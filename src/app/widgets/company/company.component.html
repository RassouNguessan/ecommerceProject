<div class="main body p-md-5">
  <div class="container-fluid py-3">
    <div class="row justify-content-between align-items-center">
      <div class="col-12 col-md-6 col-lg-4">
        <div class="mt-5 bg-white">
          <div class="pt-5">
            <app-sec-msg></app-sec-msg>
            @if (nextStep === StateEnum.One) {
              <form
                class="p-md-5 p-5 justify-content-between"
                [formGroup]="stepOneForm"
                (ngSubmit)="companyFormSubmit()"
              >
                <div class="message fs-30 pb-3">
                  <span>inscription - entreprise</span>
                </div>

                <div class="row mb-2">
                  <label for="name" class="form-label">
                    Nom du gérant
                    <span class="red">*</span>
                  </label>
                  <div class="col-sm-12">
                    <input
                      type="text"
                      class="form-input"
                      id="name"
                      placeholder="Saisissez votre nom"
                      formControlName="firstName"
                    />
                  </div>
                </div>
                <div class="row mb-2">
                  <label for="surname" class="form-label">
                    Prénoms du gérant
                    <span class="red">*</span>
                  </label>
                  <div class="col-sm-12 d-flex align-items-center">
                    <input
                      type="text"
                      class="form-input"
                      id="surname"
                      placeholder="Saisissez votre prénoms"
                      formControlName="lastName"
                    />
                  </div>
                </div>
                <div class="row mb-2">
                  <label for="social" class="form-label">
                    Dénommination sociale
                    <span class="red">*</span>
                  </label>
                  <div class="col-sm-12 d-flex align-items-center">
                    <input
                      type="text"
                      class="form-input"
                      id="social"
                      placeholder="Saisissez votre dénommination sociale"
                      formControlName="sociale"
                    />
                  </div>
                </div>
                <div class="row mb-2">
                  <label for="fixed" class="form-label">
                    Numéro fixe
                    <span class="red">*</span>
                  </label>
                  <div class="col-sm-12">
                    <input
                      type="text"
                      class="form-input"
                      id="fixed"
                      placeholder="+225 00 00 00 00 00"
                      formControlName="fixedNumber"
                    />
                  </div>
                </div>
                <div class="row mb-2">
                  <label for="number" class="form-label">
                    Numéro de téléphone
                    <span class="red">*</span>
                  </label>
                  <div class="col-sm-12 d-flex align-items-center">
                    <input
                      type="text"
                      class="form-input"
                      id="number"
                      placeholder="+225 00 00 00 00 00"
                      formControlName="phoneNumber"
                    />
                  </div>
                </div>
                <div class="row mb-2">
                  <label for="enterprisemail" class="form-label">
                    Adresse E-mail de l'entreprise
                    <span class="red">*</span>
                  </label>
                  <div class="col-sm-12 d-flex align-items-center">
                    <input
                      type="text"
                      class="form-input"
                      id="enterprisemail"
                      placeholder="Saisissez votre adresse mail de l'entreprise"
                      formControlName="enterpriseEmail"
                    />
                  </div>
                </div>
                <div class="row mb-2">
                  <label for="country" class="form-label">
                    Pays
                    <span class="red">*</span>
                  </label>
                  <div class="d-flex align-items-center">
                    <select
                      id="country"
                      class="form-input col-sm-12"
                      formControlName="country"
                    >
                      <option [value]="">Sélectionner votre pays</option>
                      @for (country of countries; track country) {
                        <option [value]="country.code">
                          {{ country.name }}
                        </option>
                      }
                    </select>
                  </div>
                </div>

                <div class="d-flex mt-5">
                  <button
                    type="button"
                    class="btn-custom cancel"
                    routerLink="/register"
                  >
                    annuler
                  </button>
                  <button
                    type="submit"
                    class="ms-2 btn-custom next"
                    [disabled]="!stepOneForm.valid"
                    (click)="next()"
                  >
                    suivant
                  </button>
                </div>
              </form>
            } @else if (nextStep === StateEnum.Two) {
              <form
                class="p-md-5 p-5 justify-content-between"
                [formGroup]="stepTwoForm"
                (ngSubmit)="companyFormSubmit()"
              >
                <div class="message fs-30 pb-3">
                  <span>inscription - {{ registrationType }}</span>
                </div>
                <!-- {{ stepTwoForm.status }} -->
                <div class="d-flex fs-18 fw-bold mt-2">
                  <svg
                    version="1.1"
                    id="Layer_1"
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    x="0px"
                    y="0px"
                    width="17px"
                    height="20px"
                    viewBox="0 0 111.811 122.88"
                    enable-background="new 0 0 111.811 122.88"
                    xml:space="preserve"
                  >
                    <g>
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M55.713,0c20.848,13.215,39.682,19.467,55.846,17.989 c2.823,57.098-18.263,90.818-55.63,104.891C19.844,109.708-1.5,77.439,0.083,17.123C19.058,18.116,37.674,14.014,55.713,0L55.713,0 z M41.458,56.508h1.438v-3.331c0-3.689,1.454-7.051,3.797-9.494c2.361-2.462,5.622-3.991,9.214-3.991s6.854,1.529,9.214,3.991 c2.343,2.443,3.797,5.805,3.797,9.494v3.331h1.438c1.167,0,2.123,0.955,2.123,2.123v22.434c0,1.168-0.956,2.123-2.123,2.123H41.458 c-1.168,0-2.123-0.955-2.123-2.123V58.631C39.334,57.463,40.29,56.508,41.458,56.508L41.458,56.508z M54.164,71.286l-2.291,6h8.066 l-2.122-6.082c1.347-0.693,2.268-2.097,2.268-3.716c0-2.308-1.871-4.179-4.179-4.179s-4.178,1.871-4.178,4.179 C51.728,69.173,52.726,70.625,54.164,71.286L54.164,71.286z M46.916,56.508h17.981v-3.331c0-2.623-1.021-4.999-2.666-6.715 c-1.627-1.697-3.866-2.751-6.325-2.751c-2.458,0-4.698,1.054-6.324,2.751c-1.646,1.716-2.666,4.092-2.666,6.715V56.508 L46.916,56.508z"
                      />
                    </g>
                  </svg>
                  <span class="mx-2">Confirmation numéro de téléphone.</span>
                </div>
                <div class="my-2 mb-4 fs-16">
                  <span>
                    Si le remplissage automatique ne se déclenche pas dans
                    quelques secondes, saisissez le code que nous avons envoyé
                    au +225 01 02 02 02 03.
                  </span>
                </div>
                <div class="row mb-2">
                  <label for="otpCode" class="form-label">
                    Code
                    <span class="red">*</span>
                  </label>
                  <div class="col-sm-12">
                    <input
                      type="text"
                      class="form-input"
                      id="otpCode"
                      placeholder="Saisissez le code reçu par sms"
                      formControlName="otpCode"
                    />
                  </div>
                </div>
                <div class="d-flex mt-5">
                  <button
                    type="button"
                    class="btn-custom cancel"
                    (click)="back()"
                  >
                    annuler
                  </button>
                  <button
                    type="submit"
                    class="ms-2 btn-custom next"
                    (click)="next()"
                    [disabled]="!stepTwoForm.valid"
                  >
                    suivant
                  </button>
                </div>
              </form>
            } @else if (nextStep === StateEnum.Three) {
              <form
                class="p-md-5 p-5 justify-content-between"
                [formGroup]="stepThreeForm"
                (ngSubmit)="companyFormSubmit()"
              >
                <div class="message fs-30 pb-3">
                  <span>inscription - entreprise</span>
                </div>
                <div class="row mb-2">
                  <label for="enterprisetype" class="form-label">
                    Type d'entreprise
                    <span class="red">*</span>
                  </label>
                  <div class="d-flex align-items-center">
                    <select
                      id="enterprisetype"
                      class="form-input col-sm-12"
                      formControlName="enterpriseType"
                    >
                      <option [value]="">Type d'entreprise</option>
                      @for (enterprise of enterprises; track enterprise) {
                        <option [value]="enterprise.code">
                          {{ enterprise.name }}
                        </option>
                      }
                    </select>
                  </div>
                </div>
                <div class="row mb-2">
                  <label for="categpro" class="form-label">
                    Catégorie professionnelle
                    <span class="red">*</span>
                  </label>
                  <div class="col-sm-12 d-flex align-items-center">
                    <select
                      id="categpro"
                      class="form-input col-sm-12"
                      formControlName="categPro"
                    >
                      <option [value]="">Catégorie professionnelle</option>
                      @for (category of categories; track category) {
                        <option [value]="category.code">
                          {{ category.name }}
                        </option>
                      }
                    </select>
                  </div>
                </div>
                <div class="row mb-2">
                  <label for="subcategory" class="form-label">
                    Sous-Catégorie
                    <span class="red">*</span>
                  </label>
                  <div class="col-sm-12 d-flex align-items-center">
                    <!-- <input type="text" class="form-input" id="subcategory" placeholder="Sous-Catégorie"
                                        formControlName="subCategory"> -->
                    <select
                      id="subcategory"
                      class="form-input col-sm-12"
                      formControlName="subCategory"
                    >
                      <option [value]="">Sous-Catégorie</option>
                      @for (category of categories; track category) {
                        <option [value]="category.code">
                          {{ category.name }}
                        </option>
                      }
                    </select>
                  </div>
                </div>

                <div class="row mb-2">
                  <label for="fixed" class="form-label">
                    URL de votre site web(cas échéant)
                    <span class="red">*</span>
                  </label>
                  <div class="col-sm-12">
                    <input
                      type="text"
                      class="form-input"
                      id="F5"
                      placeholder="URL de votre site web(cas échéant)"
                      formControlName="websiteUrl"
                    />
                  </div>
                </div>

                <div class="d-flex mt-5">
                  <button
                    type="button"
                    class="btn-custom cancel"
                    (click)="back()"
                  >
                    annuler
                  </button>
                  <button
                    type="submit"
                    class="ms-2 btn-custom next"
                    [disabled]="!stepThreeForm.valid"
                    (click)="next()"
                  >
                    suivant
                  </button>
                </div>
              </form>
            } @else {
              <form
                class="p-md-5 p-5 justify-content-between"
                [formGroup]="stepFourForm"
                (ngSubmit)="companyFormSubmit()"
              >
                <div class="message fs-30 pb-3">
                  <span>inscription - {{ registrationType }}</span>
                </div>
                <div class="row mb-2 mt-2">
                  <label for="password" class="form-label">
                    Mot de passe
                    <span class="red">*</span>
                  </label>
                  <div class="col-sm-12 input-group-append">
                    <!-- <input type="password" class="form-input" id="password"
                                        placeholder="Saisissez votre mot de passe" formControlName="password"> -->
                    <input
                      type="{{ showPassword ? 'text' : 'password' }}"
                      class="form-input"
                      id="password"
                      placeholder="Saisissez votre mot de passe"
                      formControlName="password"
                    />
                    <span class="eyeicon" (click)="togglePasswordVisibility()">
                      <i
                        class="bi"
                        [ngClass]="{
                          'bi-eye': showPassword,
                          'bi-eye-slash': !showPassword,
                        }"
                      ></i>
                    </span>
                  </div>
                </div>
                <div class="row mb-2">
                  <label for="cfrm-password" class="form-label">
                    Mot de passe
                    <span class="red">*</span>
                  </label>
                  <div class="col-sm-12">
                    <input
                      type="{{ showPassword ? 'text' : 'password' }}"
                      class="form-input"
                      id="cfrm-password"
                      placeholder="Saisissez votre mot de passe"
                      formControlName="cfrmPassword"
                    />
                    <span class="eyeicon" (click)="togglePasswordVisibility()">
                      <i
                        class="bi"
                        [ngClass]="{
                          'bi-eye': showPassword,
                          'bi-eye-slash': !showPassword,
                        }"
                      ></i>
                    </span>
                  </div>
                </div>

                @if (
                  stepThreeForm.value.cfrmPassword &&
                  stepThreeForm.errors?.["passwordMismatchError"]
                ) {
                  <span class="text-danger form-label">
                    Les mots de passe ne correspondent pas veuillez corriger
                    cela
                  </span>
                }

                <div class="d-flex mt-5">
                  <button
                    type="button"
                    class="btn-custom cancel"
                    (click)="back()"
                  >
                    annuler
                  </button>
                  <button
                    type="submit"
                    class="ms-2 btn-custom next"
                    [disabled]="!stepFourForm.valid"
                    (click)="next()"
                  >
                    suivant
                  </button>
                </div>
              </form>
            }
          </div>
        </div>
      </div>
      <div
        class="col-12 col-md-6 col-lg-8 d-lg-block d-md-none d-sm-none d-xs-none d-none w-md-150 w-lg-130"
      >
        <app-img-block></app-img-block>
      </div>
    </div>
  </div>
</div>
